<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>图片优化 | 性能优化</title>
    <meta name="description" content="前端性能优化">
    <link rel="preload stylesheet" href="/performance/assets/style.8b040f5d.css" as="style">
    
    <script type="module" src="/performance/assets/app.715822d4.js"></script>
    <link rel="preload" href="/performance/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/performance/assets/chunks/framework.39cee12e.js">
    <link rel="modulepreload" href="/performance/assets/chunks/theme.152b16a4.js">
    <link rel="modulepreload" href="/performance/assets/optimization_resource_image.md.5044f32f.lean.js">
    <link rel="icon" href="/performance/favicon.ico">
    <script charset="utf-8" async src="https://readmore.openwrite.cn/js/readmore.js"></script>
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5a346dfe><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0f60ec36></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0f60ec36> Skip to content </a><!--]--><!----><header class="VPNav" data-v-5a346dfe data-v-ae24b3ad><div class="VPNavBar has-sidebar" data-v-ae24b3ad data-v-a0fd61f4><div class="container" data-v-a0fd61f4><div class="title" data-v-a0fd61f4><div class="VPNavBarTitle has-sidebar" data-v-a0fd61f4 data-v-86d1bed8><a class="title" href="/performance/" data-v-86d1bed8><!--[--><!--]--><!----><!--[-->性能优化<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-a0fd61f4><div class="curtain" data-v-a0fd61f4></div><div class="content-body" data-v-a0fd61f4><!--[--><!--]--><div class="VPNavBarSearch search" data-v-a0fd61f4><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-a0fd61f4 data-v-7f418b0f><span id="main-nav-aria-label" class="visually-hidden" data-v-7f418b0f>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/performance/optimization/index.html" tabindex="0" data-v-7f418b0f data-v-42ef59de><!--[--><span data-v-42ef59de>正文</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-a0fd61f4 data-v-e6aabb21><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-e6aabb21 data-v-ce54a7d1 data-v-b1685198><span class="check" data-v-b1685198><span class="icon" data-v-b1685198><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-ce54a7d1><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-ce54a7d1><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-a0fd61f4 data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/codeteenager/performance" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-f80f8133><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-a0fd61f4 data-v-d0bd9dde data-v-9c007e85><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-9c007e85><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-9c007e85><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-9c007e85><div class="VPMenu" data-v-9c007e85 data-v-e7ea1737><!----><!--[--><!--[--><!----><div class="group" data-v-d0bd9dde><div class="item appearance" data-v-d0bd9dde><p class="label" data-v-d0bd9dde>外观</p><div class="appearance-action" data-v-d0bd9dde><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-d0bd9dde data-v-ce54a7d1 data-v-b1685198><span class="check" data-v-b1685198><span class="icon" data-v-b1685198><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-ce54a7d1><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-ce54a7d1><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-d0bd9dde><div class="item social-links" data-v-d0bd9dde><div class="VPSocialLinks social-links-list" data-v-d0bd9dde data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/codeteenager/performance" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-f80f8133><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-a0fd61f4 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav reached-top" data-v-5a346dfe data-v-79c8c1df><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-79c8c1df><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-79c8c1df><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-79c8c1df>菜单</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-79c8c1df data-v-1c15a60a><button data-v-1c15a60a>返回顶部</button><!----></div></div><aside class="VPSidebar" data-v-5a346dfe data-v-b00e2fdd><div class="curtain" data-v-b00e2fdd></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-b00e2fdd><span class="visually-hidden" id="sidebar-aria-label" data-v-b00e2fdd> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-b00e2fdd><section class="VPSidebarItem level-0 collapsible" data-v-b00e2fdd data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h2 class="text" data-v-e31bd47b>基础</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-e31bd47b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-e31bd47b><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/performance/optimization/index.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>介绍</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/performance/optimization/lifecycle.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>页面的生命周期</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/performance/optimization/share.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>分享</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-b00e2fdd><section class="VPSidebarItem level-0 collapsible" data-v-b00e2fdd data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h2 class="text" data-v-e31bd47b>Web性能指标</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-e31bd47b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-e31bd47b><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/performance/optimization/metrics/index.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>介绍</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/performance/optimization/metrics/rail.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>RAIL性能模型</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/performance/optimization/metrics/metrics.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>基于用户体验的性能指标</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/performance/optimization/metrics/vitals.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>Web Vitals</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/performance/optimization/metrics/other.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>其他性能指标</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-b00e2fdd><section class="VPSidebarItem level-0 collapsible" data-v-b00e2fdd data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h2 class="text" data-v-e31bd47b>Web性能测试</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-e31bd47b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-e31bd47b><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/performance/optimization/test/index.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>介绍</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/performance/optimization/test/lighthouse.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>灯塔Lighthouse</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/performance/optimization/test/webpagetest.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>WebPageTest</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/performance/optimization/test/chrome-devtools.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>Chrome Devtools</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/performance/optimization/test/apis.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>性能测量APIs</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-b00e2fdd><section class="VPSidebarItem level-0 collapsible" data-v-b00e2fdd data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h2 class="text" data-v-e31bd47b>请求和响应优化</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-e31bd47b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-e31bd47b><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/performance/optimization/response/index.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>介绍</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/performance/optimization/response/dns.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>DNS解析</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/performance/optimization/response/http.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>HTTP长连接</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/performance/optimization/response/http2.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>HTTP2</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/performance/optimization/response/redirect.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>避免重定向</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/performance/optimization/response/compress.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>压缩构建的数据资源</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/performance/optimization/response/http-cache.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>HTTP缓存</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/performance/optimization/response/cdn-cache.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>CDN缓存</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/performance/optimization/response/push-cache.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>Push缓存</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/performance/optimization/response/service-worker.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>Service Worker缓存</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/performance/optimization/response/ssr.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>服务端性能优化</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/performance/optimization/response/browser-cache.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>浏览器存储</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-b00e2fdd><section class="VPSidebarItem level-0 collapsible" data-v-b00e2fdd data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h2 class="text" data-v-e31bd47b>渲染优化</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-e31bd47b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-e31bd47b><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/performance/optimization/render/index.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>介绍</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/performance/optimization/render/path.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>关键渲染路径优化</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/performance/optimization/render/javascript-execution.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>JavaScript执行优化</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/performance/optimization/render/style-computed.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>计算样式优化</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/performance/optimization/render/repaint-reflow.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>页面布局与重绘优化</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/performance/optimization/render/compose.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>合成处理</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-b00e2fdd><section class="VPSidebarItem level-0 collapsible has-active" data-v-b00e2fdd data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h2 class="text" data-v-e31bd47b>资源优化</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-e31bd47b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-e31bd47b><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/performance/optimization/resource/priority.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>资源优先级</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/performance/optimization/resource/image.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>图片优化</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/performance/optimization/resource/compress.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>压缩&合并</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-b00e2fdd><section class="VPSidebarItem level-0 collapsible" data-v-b00e2fdd data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h2 class="text" data-v-e31bd47b>代码优化</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-e31bd47b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-e31bd47b><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/performance/optimization/code/html.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>HTML优化</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/performance/optimization/code/css.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>CSS优化</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/performance/optimization/code/javascript.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>JavaScript优化</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-b00e2fdd><section class="VPSidebarItem level-0 collapsible" data-v-b00e2fdd data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h2 class="text" data-v-e31bd47b>其他优化技术</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-e31bd47b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-e31bd47b><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/performance/optimization/other/load.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>懒加载和预加载</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/performance/optimization/other/skeleton.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>骨架屏</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/performance/optimization/other/interface.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>接口优化</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/performance/optimization/other/webpack.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>webpack优化</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/performance/optimization/other/process.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>流程优化</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5a346dfe data-v-669faec9><div class="VPDoc has-sidebar has-aside" data-v-669faec9 data-v-6b87e69f><!--[--><!--]--><div class="container" data-v-6b87e69f><div class="aside" data-v-6b87e69f><div class="aside-curtain" data-v-6b87e69f></div><div class="aside-container" data-v-6b87e69f><div class="aside-content" data-v-6b87e69f><div class="VPDocAside" data-v-6b87e69f data-v-3f215769><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-3f215769 data-v-d330b1bb><div class="content" data-v-d330b1bb><div class="outline-marker" data-v-d330b1bb></div><div class="outline-title" role="heading" aria-level="2" data-v-d330b1bb>在本页面</div><nav aria-labelledby="doc-outline-aria-label" data-v-d330b1bb><span class="visually-hidden" id="doc-outline-aria-label" data-v-d330b1bb> Table of Contents for current page </span><ul class="root" data-v-d330b1bb data-v-d0ee3533><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--[--><!--[--><!--[--><div class="content" data-v-19099dcb><img class="icon" src="/performance/weixin.jpeg" data-v-19099dcb><span class="text" data-v-19099dcb>微信公众号</span></div><!--]--><!--]--><!--]--><!--]--></div></div></div></div><div class="content" data-v-6b87e69f><div class="content-container" data-v-6b87e69f><!--[--><!--]--><!----><main class="main" data-v-6b87e69f><div style="position:relative;" class="vp-doc _performance_optimization_resource_image" data-v-6b87e69f><div><h1 id="图片优化" tabindex="-1">图片优化 <a class="header-anchor" href="#图片优化" aria-label="Permalink to &quot;图片优化&quot;">​</a></h1><h2 id="图片格式和应用场景介绍" tabindex="-1">图片格式和应用场景介绍 <a class="header-anchor" href="#图片格式和应用场景介绍" aria-label="Permalink to &quot;图片格式和应用场景介绍&quot;">​</a></h2><p>每种图片格式都有自己的特点，针对不同的业务场景选择不同的图片格式很重要。</p><h3 id="jpeg-join-photographic-experts-group" tabindex="-1">JPEG(Join Photographic Experts Group) <a class="header-anchor" href="#jpeg-join-photographic-experts-group" aria-label="Permalink to &quot;JPEG(Join Photographic Experts Group)&quot;">​</a></h3><p>JPEG是联合图像专家小组针对彩色照片而广泛使用的有损压缩图形格式，压缩率高，它是一个栅格图形，常用文件扩展名为.jpg，也有.jpeg、.jpe。JPEG在互联网上应用于存储和传输照片。</p><p>JPEG不适合线条图形和文字、图标图形，因为它的压缩算法不太适合这类的图形，并且不支持透明度。</p><p>JPEG它非常适合颜色丰富的照片、彩色图、大焦点图、通栏banner图，以及结构不规则的图形。</p><p><img src="/performance/optimization/76.png" alt=""></p><h3 id="png-portable-network-graphics" tabindex="-1">PNG(Portable Network Graphics) <a class="header-anchor" href="#png-portable-network-graphics" aria-label="Permalink to &quot;PNG(Portable Network Graphics)&quot;">​</a></h3><p>便携式网络图形是一种无损压缩的位图图形格式，支持索引、灰度、RGB三种颜色方案以及Alpha通道等特性。PNG是一种栅格图形，最初是作为替代GIF来设计的，能够现实256色，文件比JPEG或GIF大，但是PNG非常好的保留了图像质量。支持Alpha通道的半透明和透明特性，最高支持24位彩色图像(PNG-24)和8位图像(PNG-8)，且浏览器兼容性好。</p><p>PNG由于是无损存储，彩色图像太大，所以JPEG适合的PNG都不适合。</p><p>PNG非常适合纯色、透明、线条绘图、图标， 边缘清晰、有大块相同颜色区域，颜色数较少、但需要半透明的图形。</p><p>png8/png24/png36的区别</p><ul><li>png8是256色，它是支持透明的</li><li>png24是2^24色，它是不支持透明的</li><li>png32是2^24色，它是支持透明的</li></ul><h3 id="gif-graphics-interchange-format" tabindex="-1">GIF(Graphics Interchange Format) <a class="header-anchor" href="#gif-graphics-interchange-format" aria-label="Permalink to &quot;GIF(Graphics Interchange Format)&quot;">​</a></h3><p>图像互换格式是一种位图图形文件格式，以8位色(即256种颜色)重现真彩色的图像，采用LZW压缩算法进行编码。</p><p>它是栅格图形，支持256色，仅支持完全透明和完全不透明，如果需要比较通用的动画，GIF是唯一选择。</p><p>由于每个像素只有8比特，所以不适合存储彩色图片。</p><p>它非常适合动画，动的图标。</p><h3 id="webp" tabindex="-1">Webp <a class="header-anchor" href="#webp" aria-label="Permalink to &quot;Webp&quot;">​</a></h3><p>Webp是一种现代图像格式，可为图像提供无损压缩和有损压缩，这使得它非常灵活，由Google在购买On2 Technologies后发展出来，以BSD授权条款发布。</p><p>它的优秀算法能同时保证一定程序上的图像质量和比较小的体积，可以插入多帧，实现动画效果。可以设置透明度，采用8位压缩算法，压缩成都更好。无损的Webp比PNG小26%，有损的Webp比JPEG小25-34%，比GIF有更好的动画。</p><p>由于它最多处理256色，所以不适合于彩色图片，且在ios webview中有兼容性问题。</p><p>它非常适用于图形和半透明图像。</p><h3 id="svg矢量图" tabindex="-1">SVG矢量图 <a class="header-anchor" href="#svg矢量图" aria-label="Permalink to &quot;SVG矢量图&quot;">​</a></h3><p>SVG矢量图就是用svg标签在html中进行相关图像的绘制，它是矢量图，放大缩小不会失真，它的质量很高，代码内嵌的相对较小，现在有很多三方库支持，例如iconfont。尽可能使用SVG矢量图。</p><h3 id="应用场景" tabindex="-1">应用场景 <a class="header-anchor" href="#应用场景" aria-label="Permalink to &quot;应用场景&quot;">​</a></h3><ul><li>jpg适合于大部分不需要透明图片的业务场景</li><li>png适合于大部分需要透明图片的业务场景</li><li>webp适合于安卓</li><li>svg矢量图适合于图片样式相对简单的业务场景，小icon图标等</li></ul><h2 id="图片压缩" tabindex="-1">图片压缩 <a class="header-anchor" href="#图片压缩" aria-label="Permalink to &quot;图片压缩&quot;">​</a></h2><p>通过在线网站或者工具的方式对图片进行压缩，过程中针对真实图片情况，舍弃一些相对无关紧要的色彩信息，保证大部分是完整的，让图片在人眼中是察觉不到区别的。</p><h3 id="压缩png" tabindex="-1">压缩png <a class="header-anchor" href="#压缩png" aria-label="Permalink to &quot;压缩png&quot;">​</a></h3><p>采用node-pngquant-native库对其压缩，该库跨平台，压缩比高，压缩png24非常好。</p><h3 id="压缩jpg" tabindex="-1">压缩jpg <a class="header-anchor" href="#压缩jpg" aria-label="Permalink to &quot;压缩jpg&quot;">​</a></h3><p>采用jpegtran工具进行压缩，它是支持跨平台，有Linux、Mac、Windows的解决方案。官网地址为：<a href="http://jpegclub.org/jpegtran/" target="_blank" rel="noreferrer">http://jpegclub.org/jpegtran/</a></p><p>安装</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">npm</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">install</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-g</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">jpegtran</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">npm</span><span style="color:#24292E;"> </span><span style="color:#032F62;">install</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-g</span><span style="color:#24292E;"> </span><span style="color:#032F62;">jpegtran</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>使用方法</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#B392F0;">jpegtran</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-copy</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">none</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-optimize</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">-outfile</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">out.jpg</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">in.jpg</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6F42C1;">jpegtran</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-copy</span><span style="color:#24292E;"> </span><span style="color:#032F62;">none</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-optimize</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">-outfile</span><span style="color:#24292E;"> </span><span style="color:#032F62;">out.jpg</span><span style="color:#24292E;"> </span><span style="color:#032F62;">in.jpg</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="压缩gif" tabindex="-1">压缩gif <a class="header-anchor" href="#压缩gif" aria-label="Permalink to &quot;压缩gif&quot;">​</a></h3><p>使用Gifsicle来压缩，它主要通过改变每帧比例，减小gif文件大小，同时可以使用透明来达到更小的文件大小，是目前公认的解决方案。地址为：<a href="http://www.lcdf.org/gifsicle/" target="_blank" rel="noreferrer">http://www.lcdf.org/gifsicle/</a></p><p>使用方式：</p><ul><li>优化级别设置不小于2，1的话基本不压缩，gifsicle --optimize=3 -o out.gif in.gif</li><li>将透明部分截去，gifsicle --optimize=3 --crop-transparency -o out.gif in.gif</li></ul><h3 id="常用压缩网站" tabindex="-1">常用压缩网站 <a class="header-anchor" href="#常用压缩网站" aria-label="Permalink to &quot;常用压缩网站&quot;">​</a></h3><ul><li><a href="https://tinypng.com/" target="_blank" rel="noreferrer">https://tinypng.com/</a></li><li><a href="https://zhitu.isux.us/" target="_blank" rel="noreferrer">https://zhitu.isux.us/</a></li></ul><h2 id="响应式图片" tabindex="-1">响应式图片 <a class="header-anchor" href="#响应式图片" aria-label="Permalink to &quot;响应式图片&quot;">​</a></h2><p>响应式图片指的是在不同的窗口大小，不同的设备中展示不同的图片，可以用以下三种方式实现：</p><ul><li>JavaScript绑定事件检测窗口大小</li><li>CSS媒体查询</li></ul><div class="language-css vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">@media</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">screen</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">and</span><span style="color:#E1E4E8;"> (</span><span style="color:#79B8FF;">max-width</span><span style="color:#E1E4E8;">:</span><span style="color:#79B8FF;">640</span><span style="color:#F97583;">px</span><span style="color:#E1E4E8;">){</span></span>
<span class="line"><span style="color:#E1E4E8;">    my_image{</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#79B8FF;">width</span><span style="color:#E1E4E8;">: </span><span style="color:#79B8FF;">640</span><span style="color:#F97583;">px</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">@media</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">screen</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">and</span><span style="color:#24292E;"> (</span><span style="color:#005CC5;">max-width</span><span style="color:#24292E;">:</span><span style="color:#005CC5;">640</span><span style="color:#D73A49;">px</span><span style="color:#24292E;">){</span></span>
<span class="line"><span style="color:#24292E;">    my_image{</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#005CC5;">width</span><span style="color:#24292E;">: </span><span style="color:#005CC5;">640</span><span style="color:#D73A49;">px</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>img标签属性</li></ul><div class="language-html vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">img</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">srcset</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;img-320w.jpg,img-640w.jpg 2x,img-960w.jpg 3x&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">src</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;img_960w.jpg&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">alt</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;img&quot;</span><span style="color:#E1E4E8;">/&gt; //x描述符表示图像的设备像素比</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">img</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">srcset</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;img-320w.jpg,img-640w.jpg 2x,img-960w.jpg 3x&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">src</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;img_960w.jpg&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">alt</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;img&quot;</span><span style="color:#24292E;">/&gt; //x描述符表示图像的设备像素比</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="css雪碧图-image-spriting" tabindex="-1">CSS雪碧图(Image Spriting) <a class="header-anchor" href="#css雪碧图-image-spriting" aria-label="Permalink to &quot;CSS雪碧图(Image Spriting)&quot;">​</a></h2><p>CSS雪碧图是指将网站上用到的图片整合到一张单独的图片中，进而减少网站的HTTP请求数量。现在用雪碧图相对较少，虽然减少网站的请求数量但是，请求的文件资源过大，一次加载非常慢，</p><h2 id="image-inline" tabindex="-1">Image inline <a class="header-anchor" href="#image-inline" aria-label="Permalink to &quot;Image inline&quot;">​</a></h2><p>使用Data URI代替图片，将图片内容内嵌到html中，从而也减少网站的请求数，例如：base64图片，不需要请求文件内容，直接使用缓存</p><h2 id="图片服务器自动优化" tabindex="-1">图片服务器自动优化 <a class="header-anchor" href="#图片服务器自动优化" aria-label="Permalink to &quot;图片服务器自动优化&quot;">​</a></h2><p>图片服务器自动优化是可以在图片URL链接上增加不同特殊参数，服务器自动化生成不同格式、大小、质量、特殊能力的图片。</p><p>处理方式：</p><ol><li>图片裁剪：按长边、短边、填充、拉伸等缩放。</li><li>图片格式转换：支持JPG、GIF、PNG、WebP等格式，支持不同的图片压缩率。</li><li>图片处理：添加图片水印、高斯模糊、重心处理、裁剪边框等。</li><li>AI能力：鉴黄以及智能抠图、智能排班、智能配色、智能合成等AI功能。</li></ol><p>技术实现：</p><ol><li>将图片压缩、图片裁剪、图片格式转换等本地工具部署至线上服务器集群上</li><li>内部运营或外网用户上传本地图片至图片服务器后，服务器默认处理转换成多种图片格式，并推送到图片CDN服务器上。</li><li>图片服务器对外开放多个域名(例如：images1.com、images2.com等)，同时对各个业务线开放不同的业务路径(比如images1.com/homepage等)</li><li>外网用户请求带特殊参数的图片URL时，图片服务器根据URL中不同的参数类型，从本地缓存中获取，或者实时对图片进行即时处理，并返回给客户端。</li></ol><h2 id="案例分析" tabindex="-1">案例分析 <a class="header-anchor" href="#案例分析" aria-label="Permalink to &quot;案例分析&quot;">​</a></h2><p>可以使用chrome devtools中Application去查看请求的图片文件。 <img src="/performance/optimization/77.png" alt=""></p></div></div></main><footer class="VPDocFooter" data-v-6b87e69f data-v-ef5dee53><!--[--><!--]--><div class="edit-info" data-v-ef5dee53><!----><div class="last-updated" data-v-ef5dee53><p class="VPLastUpdated" data-v-ef5dee53 data-v-7e05ebdb>最近更新时间: <time datetime="2023-05-05T12:53:47.000Z" data-v-7e05ebdb></time></p></div></div><nav class="prev-next" data-v-ef5dee53><div class="pager" data-v-ef5dee53><a class="pager-link prev" href="/performance/optimization/resource/priority.html" data-v-ef5dee53><span class="desc" data-v-ef5dee53>上一页</span><span class="title" data-v-ef5dee53>资源优先级</span></a></div><div class="pager" data-v-ef5dee53><a class="pager-link next" href="/performance/optimization/resource/compress.html" data-v-ef5dee53><span class="desc" data-v-ef5dee53>下一页</span><span class="title" data-v-ef5dee53>压缩&合并</span></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-5a346dfe data-v-e03eb2e1><div class="container" data-v-e03eb2e1><p class="message" data-v-e03eb2e1>Released under the MIT License.</p><p class="copyright" data-v-e03eb2e1>Copyright © 2022-present codeteenager</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"optimization_code_javascript.md\":\"eaa95ae3\",\"optimization_code_css.md\":\"460e62c0\",\"index.md\":\"5a445fe0\",\"optimization_code_html.md\":\"097c82c3\",\"optimization_cache.md\":\"2978f26c\",\"optimization_lifecycle.md\":\"adf18e9c\",\"optimization_metrics_index.md\":\"82c46740\",\"optimization_index.md\":\"7166f3fa\",\"optimization_response_http-cache.md\":\"07232a98\",\"optimization_response_dns.md\":\"eeed0e27\",\"optimization_metrics_metrics.md\":\"698e047c\",\"optimization_metrics_other.md\":\"333c3136\",\"optimization_metrics_rail.md\":\"959929dd\",\"optimization_metrics_vitals.md\":\"02430b56\",\"optimization_other_interface.md\":\"39dfbdcf\",\"optimization_other_load.md\":\"04a9c486\",\"optimization_other_process.md\":\"3d49a84e\",\"optimization_other_webpack.md\":\"f685f574\",\"optimization_render_compose.md\":\"599dec4e\",\"optimization_render_index.md\":\"bd039140\",\"optimization_render_javascript-execution.md\":\"4d7b5c85\",\"optimization_render_path.md\":\"d068b7d8\",\"optimization_render_repaint-reflow.md\":\"a0d3fcd5\",\"optimization_render_style-computed.md\":\"8d392df6\",\"optimization_resource_compress.md\":\"55e982c7\",\"optimization_resource_image.md\":\"5044f32f\",\"optimization_resource_priority.md\":\"1050557b\",\"optimization_other_skeleton.md\":\"fa11d587\",\"optimization_response_cdn-cache.md\":\"e4f57c82\",\"optimization_response_browser-cache.md\":\"5f38c770\",\"optimization_response_compress.md\":\"e4cd0335\",\"optimization_response_redirect.md\":\"6c85d05d\",\"optimization_response_service-worker.md\":\"ece51d6c\",\"optimization_response_push-cache.md\":\"2c33fe42\",\"optimization_response_index.md\":\"0d265a93\",\"optimization_share.md\":\"9f1ecafd\",\"optimization_test_apis.md\":\"82dfef24\",\"optimization_test_index.md\":\"99746485\",\"optimization_test_lighthouse.md\":\"99c931b3\",\"optimization_test_webpagetest.md\":\"b186d4cd\",\"optimization_response_http2.md\":\"7c8be48b\",\"optimization_response_http.md\":\"b3d1f207\",\"optimization_response_ssr.md\":\"98867e87\",\"optimization_test_chrome-devtools.md\":\"43e6766f\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"性能优化\",\"description\":\"前端性能优化\",\"base\":\"/performance/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"returnToTopLabel\":\"返回顶部\",\"darkModeSwitchLabel\":\"外观\",\"sidebarMenuLabel\":\"菜单\",\"search\":{\"provider\":\"local\",\"options\":{\"translations\":{\"button\":{\"buttonText\":\"搜索\",\"buttonAriaLabel\":\"搜索\"},\"modal\":{\"noResultsText\":\"无法找到相关结果\",\"resetButtonTitle\":\"清除查询条件\",\"footer\":{\"selectText\":\"选择\",\"navigateText\":\"切换\"}}}}},\"nav\":[{\"text\":\"正文\",\"link\":\"/optimization/index\"}],\"outlineTitle\":\"在本页面\",\"lastUpdatedText\":\"最近更新时间\",\"footer\":{\"message\":\"Released under the MIT License.\",\"copyright\":\"Copyright © 2022-present codeteenager\"},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/codeteenager/performance\"}],\"sidebar\":{\"/optimization/\":[{\"text\":\"基础\",\"collapsible\":true,\"collapsed\":false,\"items\":[{\"text\":\"介绍\",\"link\":\"/optimization/index\"},{\"text\":\"页面的生命周期\",\"link\":\"/optimization/lifecycle\"},{\"text\":\"分享\",\"link\":\"/optimization/share\"}]},{\"text\":\"Web性能指标\",\"collapsible\":true,\"collapsed\":false,\"items\":[{\"text\":\"介绍\",\"link\":\"/optimization/metrics/index\"},{\"text\":\"RAIL性能模型\",\"link\":\"/optimization/metrics/rail\"},{\"text\":\"基于用户体验的性能指标\",\"link\":\"/optimization/metrics/metrics\"},{\"text\":\"Web Vitals\",\"link\":\"/optimization/metrics/vitals\"},{\"text\":\"其他性能指标\",\"link\":\"/optimization/metrics/other\"}]},{\"text\":\"Web性能测试\",\"collapsible\":true,\"collapsed\":false,\"items\":[{\"text\":\"介绍\",\"link\":\"/optimization/test/index\"},{\"text\":\"灯塔Lighthouse\",\"link\":\"/optimization/test/lighthouse\"},{\"text\":\"WebPageTest\",\"link\":\"/optimization/test/webpagetest\"},{\"text\":\"Chrome Devtools\",\"link\":\"/optimization/test/chrome-devtools\"},{\"text\":\"性能测量APIs\",\"link\":\"/optimization/test/apis\"}]},{\"text\":\"请求和响应优化\",\"collapsible\":true,\"collapsed\":false,\"items\":[{\"text\":\"介绍\",\"link\":\"/optimization/response/index\"},{\"text\":\"DNS解析\",\"link\":\"/optimization/response/dns\"},{\"text\":\"HTTP长连接\",\"link\":\"/optimization/response/http\"},{\"text\":\"HTTP2\",\"link\":\"/optimization/response/http2\"},{\"text\":\"避免重定向\",\"link\":\"/optimization/response/redirect\"},{\"text\":\"压缩构建的数据资源\",\"link\":\"/optimization/response/compress\"},{\"text\":\"HTTP缓存\",\"link\":\"/optimization/response/http-cache\"},{\"text\":\"CDN缓存\",\"link\":\"/optimization/response/cdn-cache\"},{\"text\":\"Push缓存\",\"link\":\"/optimization/response/push-cache\"},{\"text\":\"Service Worker缓存\",\"link\":\"/optimization/response/service-worker\"},{\"text\":\"服务端性能优化\",\"link\":\"/optimization/response/ssr\"},{\"text\":\"浏览器存储\",\"link\":\"/optimization/response/browser-cache\"}]},{\"text\":\"渲染优化\",\"collapsible\":true,\"collapsed\":false,\"items\":[{\"text\":\"介绍\",\"link\":\"/optimization/render/index\"},{\"text\":\"关键渲染路径优化\",\"link\":\"/optimization/render/path\"},{\"text\":\"JavaScript执行优化\",\"link\":\"/optimization/render/javascript-execution\"},{\"text\":\"计算样式优化\",\"link\":\"/optimization/render/style-computed\"},{\"text\":\"页面布局与重绘优化\",\"link\":\"/optimization/render/repaint-reflow\"},{\"text\":\"合成处理\",\"link\":\"/optimization/render/compose\"}]},{\"text\":\"资源优化\",\"collapsible\":true,\"collapsed\":false,\"items\":[{\"text\":\"资源优先级\",\"link\":\"/optimization/resource/priority\"},{\"text\":\"图片优化\",\"link\":\"/optimization/resource/image\"},{\"text\":\"压缩&合并\",\"link\":\"/optimization/resource/compress\"}]},{\"text\":\"代码优化\",\"collapsible\":true,\"collapsed\":false,\"items\":[{\"text\":\"HTML优化\",\"link\":\"/optimization/code/html\"},{\"text\":\"CSS优化\",\"link\":\"/optimization/code/css\"},{\"text\":\"JavaScript优化\",\"link\":\"/optimization/code/javascript\"}]},{\"text\":\"其他优化技术\",\"collapsible\":true,\"collapsed\":false,\"items\":[{\"text\":\"懒加载和预加载\",\"link\":\"/optimization/other/load\"},{\"text\":\"骨架屏\",\"link\":\"/optimization/other/skeleton\"},{\"text\":\"接口优化\",\"link\":\"/optimization/other/interface\"},{\"text\":\"webpack优化\",\"link\":\"/optimization/other/webpack\"},{\"text\":\"流程优化\",\"link\":\"/optimization/other/process\"}]}]},\"docFooter\":{\"prev\":\"上一页\",\"next\":\"下一页\"}},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}");</script>
    
  </body>
</html>